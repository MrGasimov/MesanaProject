package com.corvolution.mesana.configurator;

import java.io.IOException;

import com.corvolution.cm2.ConnectionManager;
import com.corvolution.cm2.UsbListener;
import com.corvolution.mesana.gui.ConfigGui;
import com.corvolution.mesana.gui.OperatorAccess;
import com.corvolution.mesana.gui.ReaderGui;

public class MainClass {

	public static void main(String[] args) {
		Thread usbListener = new Thread(new UsbListener());
		usbListener.start();
		ConnectionManager cManager = new ConnectionManager();
		cManager.addSensorListener(new GuiUpdater());
		OperatorAccess opAccess = new OperatorAccess();
		PropertyManager pManager = new PropertyManager();
		if(pManager.getProperty("GUI_MODE").equals("CONFIGURATOR")){
			try {
				new ConfigGui(opAccess.getLogin(),opAccess.getPassword());
			} catch (IOException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			} 
		}else{
			new ReaderGui();
		}
		
	
		
		
	}

}
